<?php
declare(strict_types=1);

use Phinx\Migration\AbstractMigration;

final class DatabaseCollation extends AbstractMigration {
    public function change(): void {
        $this->query("
            ALTER DATABASE " . $this->adapter->getOptions()["name"] . " CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;
            ALTER TABLE xbt_files_history CONVERT TO CHARACTER SET utf8mb4;
            ALTER TABLE xbt_snatched CONVERT TO CHARACTER SET utf8mb4;
            alter table api_applications COLLATE utf8mb4_0900_ai_ci;
            alter table api_tokens COLLATE utf8mb4_0900_ai_ci;
            alter table applicant COLLATE utf8mb4_0900_ai_ci;
            alter table applicant_role COLLATE utf8mb4_0900_ai_ci;
            alter table artist_attr COLLATE utf8mb4_0900_ai_ci;
            alter table artist_discogs COLLATE utf8mb4_0900_ai_ci;
            alter table artist_has_attr COLLATE utf8mb4_0900_ai_ci;
            alter table artist_role COLLATE utf8mb4_0900_ai_ci;
            alter table artist_usage COLLATE utf8mb4_0900_ai_ci;
            alter table artists_alias COLLATE utf8mb4_0900_ai_ci;
            alter table artists_group COLLATE utf8mb4_0900_ai_ci;
            alter table artists_similar COLLATE utf8mb4_0900_ai_ci;
            alter table artists_similar_scores COLLATE utf8mb4_0900_ai_ci;
            alter table artists_similar_votes COLLATE utf8mb4_0900_ai_ci;
            alter table artists_tags COLLATE utf8mb4_0900_ai_ci;
            alter table bad_passwords COLLATE utf8mb4_0900_ai_ci;
            alter table blog COLLATE utf8mb4_0900_ai_ci;
            alter table bonus_history COLLATE utf8mb4_0900_ai_ci;
            alter table bonus_item COLLATE utf8mb4_0900_ai_ci;
            alter table bonus_pool COLLATE utf8mb4_0900_ai_ci;
            alter table bonus_pool_contrib COLLATE utf8mb4_0900_ai_ci;
            alter table bookmarks_artists COLLATE utf8mb4_0900_ai_ci;
            alter table bookmarks_collages COLLATE utf8mb4_0900_ai_ci;
            alter table bookmarks_requests COLLATE utf8mb4_0900_ai_ci;
            alter table bookmarks_torrents COLLATE utf8mb4_0900_ai_ci;
            alter table changelog COLLATE utf8mb4_0900_ai_ci;
            alter table collage_attr COLLATE utf8mb4_0900_ai_ci;
            alter table collage_has_attr COLLATE utf8mb4_0900_ai_ci;
            alter table collages COLLATE utf8mb4_0900_ai_ci;
            alter table collages_artists COLLATE utf8mb4_0900_ai_ci;
            alter table collages_torrents COLLATE utf8mb4_0900_ai_ci;
            alter table comments COLLATE utf8mb4_0900_ai_ci;
            alter table comments_edits COLLATE utf8mb4_0900_ai_ci;
            alter table contest COLLATE utf8mb4_0900_ai_ci;
            alter table contest_has_bonus_pool COLLATE utf8mb4_0900_ai_ci;
            alter table contest_leaderboard COLLATE utf8mb4_0900_ai_ci;
            alter table contest_type COLLATE utf8mb4_0900_ai_ci;
            alter table cover_art COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_torrents COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_torrents_bad_files COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_torrents_bad_folders COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_torrents_bad_tags COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_torrents_cassette_approved COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_torrents_group COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_torrents_leech_stats COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_torrents_lossymaster_approved COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_torrents_lossyweb_approved COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_torrents_missing_lineage COLLATE utf8mb4_0900_ai_ci;
            alter table deleted_users_notify_torrents COLLATE utf8mb4_0900_ai_ci;
            alter table discogs_import COLLATE utf8mb4_0900_ai_ci;
            alter table do_not_upload COLLATE utf8mb4_0900_ai_ci;
            alter table donations COLLATE utf8mb4_0900_ai_ci;
            alter table donations_bitcoin COLLATE utf8mb4_0900_ai_ci;
            alter table donor_forum_usernames COLLATE utf8mb4_0900_ai_ci;
            alter table donor_rewards COLLATE utf8mb4_0900_ai_ci;
            alter table dupe_groups COLLATE utf8mb4_0900_ai_ci;
            alter table email_blacklist COLLATE utf8mb4_0900_ai_ci;
            alter table error_log COLLATE utf8mb4_0900_ai_ci;
            alter table featured_albums COLLATE utf8mb4_0900_ai_ci;
            alter table forums COLLATE utf8mb4_0900_ai_ci;
            alter table forums_categories COLLATE utf8mb4_0900_ai_ci;
            alter table forums_last_read_topics COLLATE utf8mb4_0900_ai_ci;
            alter table forums_polls COLLATE utf8mb4_0900_ai_ci;
            alter table forums_polls_votes COLLATE utf8mb4_0900_ai_ci;
            alter table forums_posts COLLATE utf8mb4_0900_ai_ci;
            alter table forums_topic_notes COLLATE utf8mb4_0900_ai_ci;
            alter table forums_topics COLLATE utf8mb4_0900_ai_ci;
            alter table forums_transitions COLLATE utf8mb4_0900_ai_ci;
            alter table friends COLLATE utf8mb4_0900_ai_ci;
            alter table group_log COLLATE utf8mb4_0900_ai_ci;
            alter table invite_source COLLATE utf8mb4_0900_ai_ci;
            alter table invite_source_pending COLLATE utf8mb4_0900_ai_ci;
            alter table invite_tree COLLATE utf8mb4_0900_ai_ci;
            alter table inviter_has_invite_source COLLATE utf8mb4_0900_ai_ci;
            alter table invites COLLATE utf8mb4_0900_ai_ci;
            alter table ip_bans COLLATE utf8mb4_0900_ai_ci;
            alter table irc_channels COLLATE utf8mb4_0900_ai_ci;
            alter table label_aliases COLLATE utf8mb4_0900_ai_ci;
            alter table lastfm_users COLLATE utf8mb4_0900_ai_ci;
            alter table locked_accounts COLLATE utf8mb4_0900_ai_ci;
            alter table log COLLATE utf8mb4_0900_ai_ci;
            alter table login_attempts COLLATE utf8mb4_0900_ai_ci;
            alter table nav_items COLLATE utf8mb4_0900_ai_ci;
            alter table news COLLATE utf8mb4_0900_ai_ci;
            alter table ops_import COLLATE utf8mb4_0900_ai_ci;
            alter table payment_reminders COLLATE utf8mb4_0900_ai_ci;
            alter table periodic_task COLLATE utf8mb4_0900_ai_ci;
            alter table periodic_task_history COLLATE utf8mb4_0900_ai_ci;
            alter table periodic_task_history_event COLLATE utf8mb4_0900_ai_ci;
            alter table permission_rate_limit COLLATE utf8mb4_0900_ai_ci;
            alter table permissions COLLATE utf8mb4_0900_ai_ci;
            alter table phinxlog COLLATE utf8mb4_0900_ai_ci;
            alter table pm_conversations COLLATE utf8mb4_0900_ai_ci;
            alter table pm_conversations_users COLLATE utf8mb4_0900_ai_ci;
            alter table pm_messages COLLATE utf8mb4_0900_ai_ci;
            alter table push_notifications_usage COLLATE utf8mb4_0900_ai_ci;
            alter table ratelimit_torrent COLLATE utf8mb4_0900_ai_ci;
            alter table recovery COLLATE utf8mb4_0900_ai_ci;
            alter table recovery_buffer COLLATE utf8mb4_0900_ai_ci;
            alter table referral_accounts COLLATE utf8mb4_0900_ai_ci;
            alter table referral_users COLLATE utf8mb4_0900_ai_ci;
            alter table release_type COLLATE utf8mb4_0900_ai_ci;
            alter table reports COLLATE utf8mb4_0900_ai_ci;
            alter table reportsv2 COLLATE utf8mb4_0900_ai_ci;
            alter table requests COLLATE utf8mb4_0900_ai_ci;
            alter table requests_artists COLLATE utf8mb4_0900_ai_ci;
            alter table requests_tags COLLATE utf8mb4_0900_ai_ci;
            alter table requests_votes COLLATE utf8mb4_0900_ai_ci;
            alter table schedule COLLATE utf8mb4_0900_ai_ci;
            alter table site_options COLLATE utf8mb4_0900_ai_ci;
            alter table sphinx_a COLLATE utf8mb4_0900_ai_ci;
            alter table sphinx_delta COLLATE utf8mb4_0900_ai_ci;
            alter table sphinx_index_last_pos COLLATE utf8mb4_0900_ai_ci;
            alter table sphinx_requests COLLATE utf8mb4_0900_ai_ci;
            alter table sphinx_requests_delta COLLATE utf8mb4_0900_ai_ci;
            alter table sphinx_t COLLATE utf8mb4_0900_ai_ci;
            alter table sphinx_tg COLLATE utf8mb4_0900_ai_ci;
            alter table staff_blog COLLATE utf8mb4_0900_ai_ci;
            alter table staff_blog_visits COLLATE utf8mb4_0900_ai_ci;
            alter table staff_groups COLLATE utf8mb4_0900_ai_ci;
            alter table staff_pm_conversations COLLATE utf8mb4_0900_ai_ci;
            alter table staff_pm_messages COLLATE utf8mb4_0900_ai_ci;
            alter table staff_pm_responses COLLATE utf8mb4_0900_ai_ci;
            alter table stylesheets COLLATE utf8mb4_0900_ai_ci;
            alter table tag_aliases COLLATE utf8mb4_0900_ai_ci;
            alter table tags COLLATE utf8mb4_0900_ai_ci;
            alter table tgroup_summary COLLATE utf8mb4_0900_ai_ci;
            alter table thread COLLATE utf8mb4_0900_ai_ci;
            alter table thread_note COLLATE utf8mb4_0900_ai_ci;
            alter table thread_type COLLATE utf8mb4_0900_ai_ci;
            alter table top10_history COLLATE utf8mb4_0900_ai_ci;
            alter table top10_history_torrents COLLATE utf8mb4_0900_ai_ci;
            alter table torrent_attr COLLATE utf8mb4_0900_ai_ci;
            alter table torrent_group_attr COLLATE utf8mb4_0900_ai_ci;
            alter table torrent_group_has_attr COLLATE utf8mb4_0900_ai_ci;
            alter table torrent_has_attr COLLATE utf8mb4_0900_ai_ci;
            alter table torrents COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_artists COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_bad_files COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_bad_folders COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_bad_tags COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_cassette_approved COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_group COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_leech_stats COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_logs COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_lossymaster_approved COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_lossyweb_approved COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_missing_lineage COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_peerlists COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_peerlists_compare COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_tags COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_tags_votes COLLATE utf8mb4_0900_ai_ci;
            alter table torrents_votes COLLATE utf8mb4_0900_ai_ci;
            alter table user_attr COLLATE utf8mb4_0900_ai_ci;
            alter table user_bonus COLLATE utf8mb4_0900_ai_ci;
            alter table user_flt COLLATE utf8mb4_0900_ai_ci;
            alter table user_has_attr COLLATE utf8mb4_0900_ai_ci;
            alter table user_has_invite_source COLLATE utf8mb4_0900_ai_ci;
            alter table user_last_access COLLATE utf8mb4_0900_ai_ci;
            alter table user_read_blog COLLATE utf8mb4_0900_ai_ci;
            alter table user_read_forum COLLATE utf8mb4_0900_ai_ci;
            alter table user_read_news COLLATE utf8mb4_0900_ai_ci;
            alter table user_seedbox COLLATE utf8mb4_0900_ai_ci;
            alter table user_summary COLLATE utf8mb4_0900_ai_ci;
            alter table user_torrent_remove COLLATE utf8mb4_0900_ai_ci;
            alter table users_buffer_log COLLATE utf8mb4_0900_ai_ci;
            alter table users_collage_subs COLLATE utf8mb4_0900_ai_ci;
            alter table users_comments_last_read COLLATE utf8mb4_0900_ai_ci;
            alter table users_donor_ranks COLLATE utf8mb4_0900_ai_ci;
            alter table users_downloads COLLATE utf8mb4_0900_ai_ci;
            alter table users_dupes COLLATE utf8mb4_0900_ai_ci;
            alter table users_enable_requests COLLATE utf8mb4_0900_ai_ci;
            alter table users_freeleeches COLLATE utf8mb4_0900_ai_ci;
            alter table users_geodistribution COLLATE utf8mb4_0900_ai_ci;
            alter table users_history_emails COLLATE utf8mb4_0900_ai_ci;
            alter table users_history_ips COLLATE utf8mb4_0900_ai_ci;
            alter table users_history_passkeys COLLATE utf8mb4_0900_ai_ci;
            alter table users_history_passwords COLLATE utf8mb4_0900_ai_ci;
            alter table users_info COLLATE utf8mb4_0900_ai_ci;
            alter table users_leech_stats COLLATE utf8mb4_0900_ai_ci;
            alter table users_levels COLLATE utf8mb4_0900_ai_ci;
            alter table users_main COLLATE utf8mb4_0900_ai_ci;
            alter table users_notifications_settings COLLATE utf8mb4_0900_ai_ci;
            alter table users_notify_filters COLLATE utf8mb4_0900_ai_ci;
            alter table users_notify_quoted COLLATE utf8mb4_0900_ai_ci;
            alter table users_notify_torrents COLLATE utf8mb4_0900_ai_ci;
            alter table users_push_notifications COLLATE utf8mb4_0900_ai_ci;
            alter table users_sessions COLLATE utf8mb4_0900_ai_ci;
            alter table users_stats_daily COLLATE utf8mb4_0900_ai_ci;
            alter table users_stats_monthly COLLATE utf8mb4_0900_ai_ci;
            alter table users_stats_yearly COLLATE utf8mb4_0900_ai_ci;
            alter table users_subscriptions COLLATE utf8mb4_0900_ai_ci;
            alter table users_subscriptions_comments COLLATE utf8mb4_0900_ai_ci;
            alter table users_torrent_history COLLATE utf8mb4_0900_ai_ci;
            alter table users_votes COLLATE utf8mb4_0900_ai_ci;
            alter table users_warnings_forums COLLATE utf8mb4_0900_ai_ci;
            alter table wiki_aliases COLLATE utf8mb4_0900_ai_ci;
            alter table wiki_articles COLLATE utf8mb4_0900_ai_ci;
            alter table wiki_artists COLLATE utf8mb4_0900_ai_ci;
            alter table wiki_revisions COLLATE utf8mb4_0900_ai_ci;
            alter table wiki_torrents COLLATE utf8mb4_0900_ai_ci;
            alter table xbt_client_whitelist COLLATE utf8mb4_0900_ai_ci;
            alter table xbt_files_history COLLATE utf8mb4_0900_ai_ci;
            alter table xbt_files_users COLLATE utf8mb4_0900_ai_ci;
            alter table xbt_forex COLLATE utf8mb4_0900_ai_ci;
            alter table xbt_snatched COLLATE utf8mb4_0900_ai_ci;
        ");
    }
}
